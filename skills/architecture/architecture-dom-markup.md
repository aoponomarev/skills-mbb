# architecture-dom-markup

> Источник: `docs/doc-architect.md` (раздел "Маркировка элементов DOM")

## Автоматическая маркировка контейнеров

**Назначение:** Автоматическая маркировка значимых контейнеров через CSS классы `avto-{hash}` для навигации в DevTools и указания агенту места в разметке.

**Формат:** префикс `avto-`, формат `avto-{Base58_8символов}`. Классы `avto-*` используются только для маркировки, не используются в JS/CSS.

**Реализация:** `shared/utils/auto-markup.js` с использованием `MutationObserver`.

**Принципы:** Маркируются основные секции, заголовки, контейнеры; не маркируются элементы внутри Vue компонентов, мелкие обертки, элементы с ID. Детерминированные хэши на основе пути в DOM обеспечивают стабильность между сессиями.

## Детерминированные хэши компонентов

**Назначение:** Уникальная идентификация экземпляров Vue-компонентов для кастомной стилизации конкретных экземпляров.

**Реализация:** computed `instanceHash` в каждом компоненте на основе контекста и идентификатора экземпляра.

**Формат:** `avto-{Base58_8символов}`.

**Утилита:** `shared/utils/hash-generator.js`.

## Утилита синхронизации layout

**Назначение:** Автоматическая синхронизация `padding-top`/`padding-bottom` body с высотой header/footer.

**Реализация:** `shared/utils/layout-sync.js` с `ResizeObserver` и `MutationObserver`.

**Инициализация:** запускается автоматически при загрузке DOM, доступно управление через `window.layoutSync.start()`, `stop()`, `update()`.
