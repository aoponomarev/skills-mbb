---
id: process-bug-resolution-protocol
title: "Протокол исправления ошибок (Bug vs Feature)"
description_ru: "Мета-навык, обязывающий агента проверять существующие навыки перед исправлением любых неполадок, чтобы отличить баг от архитектурной особенности."
scope: "Процесс анализа, верификации и исправления ошибок в коде и инфраструктуре MBB."
tags: [#process, #debug, #logic, #ssot, #architecture]
priority: emergency
created_at: 2026-01-30
updated_at: 2026-01-30
dependencies: ["protocol-agent-core", "architecture-ssot"]
---

# Протокол исправления ошибок (Bug vs Feature)

## Scope
- Анализ инцидентов и багов.
- Верификация намерений (Intent Verification).
- Защита архитектурных особенностей от "случайных" исправлений.

## When to Use
- Выполнение любой задачи (анализ, разработка, рефакторинг).
- Поступление задачи на исправление ошибки (bug report).
- Обнаружение странного или нелогичного поведения системы.
- Желание "отрефакторить" кусок кода, который кажется избыточным.

## Key Rules
1. **Сначала Скиллы, потом Фикс**: Любое действие (не только исправление) начинается с поиска в `skills/` и `skills-mbb/`.
2. **Внутренний монолог "Баг или Фича?"**: Агент обязан задать этот вопрос самому себе и найти ответ в Skills, прежде чем беспокоить пользователя. "Не является ли это поведение задокументированным решением для обхода ограничений (например, CORS, специфика Docker на Windows или OneDrive)?"
3. **Презумпция Намеренности**: Если код кажется странным, но он работает — предполагается, что за ним стоит Skill или архитектурное решение, пока не доказано обратное.
4. **Запрет на "Быстрые фиксы"**: Запрещено исправлять то, что агент не понимает до конца в контексте всей системы.
5. **Постоянная бдительность**: Правило применяется фоново при выполнении любой задачи, где агент сталкивается с "нестандартным" кодом или поведением.

## Workflow
1) **Идентификация**: Получить описание ошибки.
2) **Поиск по Skills (КРИТИЧЕСКО_ВАЖНО)**:
   - Выполнить `grep` или `list_skills` по ключевым словам компонента.
   - Изучить связанные с этим местом навыки (особенно в `architecture/` и `process/`).
3) **Архитектурная сверка**:
   - Проверить `INFRASTRUCTURE_CONFIG.yaml` и `.cursorrules`.
   - Если поведение соответствует описанному в навыках (даже если оно выглядит как костыль) — **ЭТО НЕ БАГ**. ОСТАНОВИТЬСЯ и доложить пользователю.
4) **Верификация балона (Issue Verification)**:
   - Только если в навыках нет оправдания этому поведению И оно явно противоречит протоколам — переходить к исправлению.
5) **Фиксация**:
   - После исправления проверить, не нужно ли обновить соответствующий Skill, чтобы в будущем этот баг не вернулся или "фича" стала понятнее.

## References
- `skills-mbb/skills/process/protocol-agent-core.md`
- `skills-mbb/skills/architecture/architecture-ssot.md`
- `logs/fixes-tracking.md`

## Metadata
- updated_at: 2026-01-30
- priority: emergency
